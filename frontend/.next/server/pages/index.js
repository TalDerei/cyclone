"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Commitment)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var vanta_dist_vanta_waves_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vanta/dist/vanta.waves.min.js */ \"vanta/dist/vanta.waves.min.js\");\n/* harmony import */ var vanta_dist_vanta_waves_min_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(vanta_dist_vanta_waves_min_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var vanta_dist_vanta_net_min__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vanta/dist/vanta.net.min */ \"vanta/dist/vanta.net.min\");\n/* harmony import */ var vanta_dist_vanta_net_min__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(vanta_dist_vanta_net_min__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"ethers\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ethers__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ethersproject_abstract_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/abstract-provider */ \"@ethersproject/abstract-provider\");\n/* harmony import */ var _ethersproject_abstract_provider__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_ethersproject_abstract_provider__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @aztec/sdk */ \"@aztec/sdk\");\n/* harmony import */ var _aztec_sdk__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_aztec_sdk__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils */ \"./pages/utils.ts\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([three__WEBPACK_IMPORTED_MODULE_3__]);\nthree__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nvar _jsxFileName = \"/Users/margulus/Desktop/Programming/Masters/Repository/Github/cyclone/frontend/pages/index.js\";\n\n\n\n\n\n\n\n\n\n\nfunction Commitment() {\n  const {\n    0: userAccount,\n    1: setUserAddress\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    AztecSdkUser: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.AztecSdkUser\n  });\n  const {\n    0: publicKeyNew,\n    1: setPublicKey\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    GrumpkinAddress: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.GrumpkinAddress\n  });\n  const {\n    0: privateKeyNew,\n    1: setPrivateKey\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    Buffer\n  });\n  const {\n    0: spendingSigner,\n    1: setSpendingSigner\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    SchnorrSigner: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.SchnorrSigner\n  });\n  const {\n    0: walletAddress,\n    1: setWalletAddress\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    EthAddress: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.EthAddress\n  });\n  const {\n    0: sdk,\n    1: setSDK\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    AztecSdk: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.AztecSdk\n  });\n  const {\n    0: ethAccount,\n    1: setEthAccount\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    EthAddress: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.EthAddress\n  });\n\n  let renderSDK = () => {\n    InitializeSDK();\n  };\n\n  let renderRegisterUser = () => {\n    registerUser();\n  };\n\n  async function renderDeposit() {\n    deposit();\n  }\n\n  async function registerUser() {\n    const alias = \"woosso\";\n    const depositTokenQuantity = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.parseEther(\"1\").toBigInt();\n    const recoverySigner = await sdk.createSchnorrSigner((0,crypto__WEBPACK_IMPORTED_MODULE_7__.randomBytes)(32));\n    let recoverPublicKey = recoverySigner.getPublicKey();\n    const assetId = sdk.getAssetIdByAddress(_aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.EthAddress.ZERO);\n    console.log(assetId);\n    const deposit = {\n      assetId,\n      value: depositTokenQuantity\n    };\n    console.log(deposit);\n    const txFee = (await sdk.getRegisterFees(deposit.assetId))[_aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.TxSettlementTime];\n    console.log(txFee);\n    const controller = await sdk.createRegisterController(publicKeyNew, alias, privateKeyNew, spendingSigner.getPublicKey(), recoverPublicKey, 0, txFee, walletAddress); // console.log(\"registration txId\", txId);\n    // console.log(\n    //   \"lookup tx on explorer\",\n    //   `https://aztec-connect-testnet-explorer.aztec.network/goerli/tx/${txId.toString()}`\n    // );\n  }\n\n  async function deposit() {\n    console.log(\"depsosit\");\n  }\n\n  async function InitializeSDK() {\n    // Retrieve user's metamask address\n    const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(window.ethereum);\n    const ethereumProvider = new _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.EthersAdapter(provider);\n    await provider.send(\"eth_requestAccounts\", []);\n    const userSigner = provider.getSigner();\n    const userAddress = _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.EthAddress.fromString(await userSigner.getAddress());\n    console.log(\"user's metamask wallet address is: \" + userAddress);\n    setWalletAddress(userAddress); // Initialize SDK\n\n    const sdk = await (0,_aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.createAztecSdk)(ethereumProvider, {\n      serverUrl: \"https://api.aztec.network/aztec-connect-testnet/falafel\",\n      // testnet\n      pollInterval: 1000,\n      memoryDb: true,\n      // set to false to save chain data\n      debug: \"bb:*\",\n      // print debug logs\n      flavour: _aztec_sdk__WEBPACK_IMPORTED_MODULE_6__.SdkFlavour.PLAIN,\n      // Use PLAIN with Nodejs\n      minConfirmation: 1 // ETH block confirmations\n\n    });\n    sdk.run();\n    await sdk.awaitSynchronised();\n    setSDK(sdk); // Generate privacy keys which enables decrypting the notes and calculating the account balance\n\n    console.log(\"Generate the user's privacy keypair\");\n    const {\n      publicKey,\n      privateKey\n    } = await sdk.generateAccountKeyPair(walletAddress);\n    let accounts = await ethereum.request({\n      method: \"eth_requestAccounts\"\n    });\n    console.log(\"Public key is: \" + publicKey);\n    console.log(\"Private key is: \" + privateKey);\n    setPublicKey(publicKey);\n    setPrivateKey(privateKey);\n    console.log(\"Add user to SDK\");\n    let account = await sdk.userExists(publicKey);\n\n    if (account == true) {\n      await sdk.getUser(publicKey);\n      await sdk.addUser(privateKey);\n    }\n\n    setUserAddress(account); // Generate user's spending key and register it\n\n    const spendingPrivateKey = await sdk.generateSpendingKeyPair(walletAddress);\n    console.log(\"Spending key is:\" + spendingPrivateKey); // Create Aztec signer using spending key\n\n    const signer = await sdk.createSchnorrSigner(spendingPrivateKey);\n    setSpendingSigner(signer);\n    console.log(\"Signer:\", signer);\n  } // Vanta UI design\n\n\n  const {\n    0: vantaEffect,\n    1: setVantaEffect\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const vantaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!vantaEffect) {\n      setVantaEffect(vanta_dist_vanta_waves_min_js__WEBPACK_IMPORTED_MODULE_1___default()({\n        el: vantaRef.current,\n        THREE: three__WEBPACK_IMPORTED_MODULE_3__,\n        mouseControls: true,\n        touchControls: true,\n        gyroControls: false,\n        minHeight: 200.00,\n        minWidth: 200.00,\n        scale: 1.00,\n        scaleMobile: 1.00,\n        color: 0x711,\n        shininess: 35.00,\n        waveHeight: 31.50,\n        waveSpeed: 0.25,\n        zoom: 0.95\n      }));\n    }\n  }, [vantaEffect]);\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"main\", {\n    ref: vantaRef,\n    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"section\", {\n      class: \"general\",\n      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"div\", {\n          class: \"button-group\",\n          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"button\", {\n            class: \"button button1 b1\",\n            onClick: renderSDK,\n            children: \"Create Privacy and Spending Keys\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"div\", {\n          class: \"button-group\",\n          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"button\", {\n            class: \"button button1 b1\",\n            onClick: renderRegisterUser,\n            children: \"Register a User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"div\", {\n          class: \"button-group\",\n          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxDEV)(\"button\", {\n            class: \"button button1 b1\",\n            onClick: renderDeposit,\n            children: \"Deposit ETH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 7\n  }, this);\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0U7QUFFQTs7QUFLYSxTQUFTcUIsVUFBVCxHQUF1QjtFQUNsQyxNQUFNO0lBQUEsR0FBQ0MsV0FBRDtJQUFBLEdBQWNDO0VBQWQsSUFBZ0NyQiwrQ0FBUSxDQUFDO0lBQUNXLFlBQVlBLHNEQUFBQTtFQUFiLENBQUQsQ0FBOUM7RUFDQSxNQUFNO0lBQUEsR0FBQ1csWUFBRDtJQUFBLEdBQWVDO0VBQWYsSUFBZ0N2QiwrQ0FBUSxDQUFDO0lBQUNZLGVBQWVBLHlEQUFBQTtFQUFoQixDQUFELENBQTlDO0VBQ0EsTUFBTTtJQUFBLEdBQUNZLGFBQUQ7SUFBQSxHQUFnQkM7RUFBaEIsSUFBaUN6QiwrQ0FBUSxDQUFDO0lBQUMwQjtFQUFELENBQUQsQ0FBL0M7RUFDQSxNQUFNO0lBQUEsR0FBQ0MsY0FBRDtJQUFBLEdBQWlCQztFQUFqQixJQUFzQzVCLCtDQUFRLENBQUM7SUFBQ2EsYUFBYUEsdURBQUFBO0VBQWQsQ0FBRCxDQUFwRDtFQUNBLE1BQU07SUFBQSxHQUFDZ0IsYUFBRDtJQUFBLEdBQWdCQztFQUFoQixJQUFvQzlCLCtDQUFRLENBQUM7SUFBQ2MsVUFBVUEsb0RBQUFBO0VBQVgsQ0FBRCxDQUFsRDtFQUNBLE1BQU07SUFBQSxHQUFDaUIsR0FBRDtJQUFBLEdBQU1DO0VBQU4sSUFBZ0JoQywrQ0FBUSxDQUFDO0lBQUNNLFFBQVFBLGtEQUFBQTtFQUFULENBQUQsQ0FBOUI7RUFDQSxNQUFNO0lBQUEsR0FBQzJCLFVBQUQ7SUFBQSxHQUFhQztFQUFiLElBQThCbEMsK0NBQVEsQ0FBQztJQUFDYyxVQUFVQSxvREFBQUE7RUFBWCxDQUFELENBQTVDOztFQUVBLElBQUlxQixTQUFTLEdBQUcsTUFBTTtJQUNsQkMsYUFBYTtFQUNoQixDQUZEOztFQUlBLElBQUlDLGtCQUFrQixHQUFHLE1BQU07SUFDN0JDLFlBQVk7RUFDYixDQUZEOztFQUlBLGVBQWVDLGFBQWYsR0FBK0I7SUFDN0JDLE9BQU87RUFDUjs7RUFFRCxlQUFlRixZQUFmLEdBQThCO0lBQzVCLE1BQU1HLEtBQUssR0FBRyxRQUFkO0lBQ0EsTUFBTUMsb0JBQW9CLEdBQUd0QywyREFBQSxDQUNqQixHQURpQixFQUU1QnlDLFFBRjRCLEVBQTdCO0lBR0YsTUFBTUMsY0FBYyxHQUFHLE1BQU1mLEdBQUcsQ0FBQ2dCLG1CQUFKLENBQXdCOUIsbURBQVcsQ0FBQyxFQUFELENBQW5DLENBQTdCO0lBQ0EsSUFBSStCLGdCQUFnQixHQUFHRixjQUFjLENBQUNHLFlBQWYsRUFBdkI7SUFFQSxNQUFNQyxPQUFPLEdBQUduQixHQUFHLENBQUNvQixtQkFBSixDQUF3QnJDLHVEQUF4QixDQUFoQjtJQUNBdUMsT0FBTyxDQUFDQyxHQUFSLENBQVlKLE9BQVo7SUFDQSxNQUFNVixPQUFPLEdBQUc7TUFBRVUsT0FBRjtNQUFXSyxLQUFLLEVBQUViO0lBQWxCLENBQWhCO0lBQ0FXLE9BQU8sQ0FBQ0MsR0FBUixDQUFZZCxPQUFaO0lBQ0EsTUFBTWdCLEtBQUssR0FBRyxDQUFDLE1BQU16QixHQUFHLENBQUMwQixlQUFKLENBQW9CakIsT0FBTyxDQUFDVSxPQUE1QixDQUFQLEVBQTZDbkMsd0RBQTdDLENBQWQ7SUFDQXNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFaO0lBRUMsTUFBTUUsVUFBVSxHQUFHLE1BQU0zQixHQUFHLENBQUM0Qix3QkFBSixDQUN0QnJDLFlBRHNCLEVBRXRCbUIsS0FGc0IsRUFHdEJqQixhQUhzQixFQUl0QkcsY0FBYyxDQUFDc0IsWUFBZixFQUpzQixFQUt0QkQsZ0JBTHNCLEVBTXRCLENBTnNCLEVBT3RCUSxLQVBzQixFQVF0QjNCLGFBUnNCLENBQXpCLENBZjZCLENBMEI5QjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0VBQ0M7O0VBRUQsZUFBZVcsT0FBZixHQUF5QjtJQUN2QmEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWjtFQUNEOztFQUVELGVBQWVsQixhQUFmLEdBQStCO0lBQzdCO0lBQ0EsTUFBTXdCLFFBQVEsR0FBRyxJQUFJeEQsaUVBQUosQ0FBa0MyRCxNQUFNLENBQUNDLFFBQXpDLENBQWpCO0lBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsSUFBSXpELHFEQUFKLENBQWtCb0QsUUFBbEIsQ0FBekI7SUFFQSxNQUFNQSxRQUFRLENBQUNNLElBQVQsQ0FBYyxxQkFBZCxFQUFxQyxFQUFyQyxDQUFOO0lBQ0EsTUFBTUMsVUFBVSxHQUFHUCxRQUFRLENBQUNRLFNBQVQsRUFBbkI7SUFDQSxNQUFNQyxXQUFXLEdBQUd2RCw2REFBQSxDQUFzQixNQUFNcUQsVUFBVSxDQUFDSSxVQUFYLEVBQTVCLENBQXBCO0lBQ0FsQixPQUFPLENBQUNDLEdBQVIsQ0FBWSx3Q0FBd0NlLFdBQXBEO0lBQ0F2QyxnQkFBZ0IsQ0FBQ3VDLFdBQUQsQ0FBaEIsQ0FUNkIsQ0FXN0I7O0lBQ0EsTUFBTXRDLEdBQUcsR0FBRyxNQUFNeEIsMERBQWMsQ0FBQzBELGdCQUFELEVBQW1CO01BQ2pETyxTQUFTLEVBQUUseURBRHNDO01BQ3FCO01BQ3RFQyxZQUFZLEVBQUUsSUFGbUM7TUFHakRDLFFBQVEsRUFBRSxJQUh1QztNQUd0QjtNQUMzQkMsS0FBSyxFQUFFLE1BSjBDO01BSXRCO01BQzNCQyxPQUFPLEVBQUVsRSx3REFMd0M7TUFLdEI7TUFDM0JvRSxlQUFlLEVBQUUsQ0FOZ0MsQ0FNdEI7O0lBTnNCLENBQW5CLENBQWhDO0lBUUEvQyxHQUFHLENBQUNnRCxHQUFKO0lBQ0EsTUFBTWhELEdBQUcsQ0FBQ2lELGlCQUFKLEVBQU47SUFDQWhELE1BQU0sQ0FBQ0QsR0FBRCxDQUFOLENBdEI2QixDQXdCN0I7O0lBQ0FzQixPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQ0FBWjtJQUNBLE1BQU07TUFBRTJCLFNBQUY7TUFBYUM7SUFBYixJQUE0QixNQUFNbkQsR0FBRyxDQUFDb0Qsc0JBQUosQ0FBMkJ0RCxhQUEzQixDQUF4QztJQUNBLElBQUl1RCxRQUFRLEdBQUcsTUFBTXBCLFFBQVEsQ0FBQ3FCLE9BQVQsQ0FBaUI7TUFDcENDLE1BQU0sRUFBRTtJQUQ0QixDQUFqQixDQUFyQjtJQUlBakMsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQW9CMkIsU0FBaEM7SUFDQTVCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHFCQUFxQjRCLFVBQWpDO0lBQ0EzRCxZQUFZLENBQUMwRCxTQUFELENBQVo7SUFDQXhELGFBQWEsQ0FBQ3lELFVBQUQsQ0FBYjtJQUVBN0IsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7SUFDQSxJQUFJaUMsT0FBTyxHQUFHLE1BQU14RCxHQUFHLENBQUN5RCxVQUFKLENBQWVQLFNBQWYsQ0FBcEI7O0lBQ0EsSUFBSU0sT0FBTyxJQUFJLElBQWYsRUFBcUI7TUFDbkIsTUFBTXhELEdBQUcsQ0FBQzBELE9BQUosQ0FBWVIsU0FBWixDQUFOO01BQ0EsTUFBTWxELEdBQUcsQ0FBQzJELE9BQUosQ0FBWVIsVUFBWixDQUFOO0lBQ0Q7O0lBQ0Q3RCxjQUFjLENBQUNrRSxPQUFELENBQWQsQ0ExQzZCLENBNEM3Qjs7SUFDQSxNQUFNSSxrQkFBa0IsR0FBRyxNQUFNNUQsR0FBRyxDQUFDNkQsdUJBQUosQ0FBNEIvRCxhQUE1QixDQUFqQztJQUNBd0IsT0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQXFCcUMsa0JBQWpDLEVBOUM2QixDQStDN0I7O0lBQ0EsTUFBTUUsTUFBTSxHQUFHLE1BQU05RCxHQUFHLENBQUNnQixtQkFBSixDQUF3QjRDLGtCQUF4QixDQUFyQjtJQUNBL0QsaUJBQWlCLENBQUNpRSxNQUFELENBQWpCO0lBQ0F4QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxTQUFaLEVBQXVCdUMsTUFBdkI7RUFDRCxDQTdHaUMsQ0ErR2xDOzs7RUFDQSxNQUFNO0lBQUEsR0FBQ0MsV0FBRDtJQUFBLEdBQWNDO0VBQWQsSUFBZ0MvRiwrQ0FBUSxDQUFDLENBQUQsQ0FBOUM7RUFDQSxNQUFNZ0csUUFBUSxHQUFHakcsNkNBQU0sQ0FBQyxJQUFELENBQXZCO0VBQ0FELGdEQUFTLENBQUMsTUFBTTtJQUNkLElBQUksQ0FBQ2dHLFdBQUwsRUFBa0I7TUFDaEJDLGNBQWMsQ0FDWjlGLG9FQUFLLENBQUM7UUFDSmdHLEVBQUUsRUFBRUQsUUFBUSxDQUFDRSxPQURUO1FBRUovRixLQUZJO1FBR0pnRyxhQUFhLEVBQUUsSUFIWDtRQUlKQyxhQUFhLEVBQUUsSUFKWDtRQUtKQyxZQUFZLEVBQUUsS0FMVjtRQU1KQyxTQUFTLEVBQUUsTUFOUDtRQU9KQyxRQUFRLEVBQUUsTUFQTjtRQVFKQyxLQUFLLEVBQUUsSUFSSDtRQVNKQyxXQUFXLEVBQUUsSUFUVDtRQVVKQyxLQUFLLEVBQUUsS0FWSDtRQVdKQyxTQUFTLEVBQUUsS0FYUDtRQVlKQyxVQUFVLEVBQUUsS0FaUjtRQWFKQyxTQUFTLEVBQUUsSUFiUDtRQWNKQyxJQUFJLEVBQUU7TUFkRixDQUFELENBRE8sQ0FBZDtJQWtCRDtFQUNGLENBckJRLEVBcUJOLENBQUNoQixXQUFELENBckJNLENBQVQ7RUF1QkEsb0JBQ0U7SUFBTSxHQUFHLEVBQUVFLFFBQVg7SUFBQSx1QkFDQTtNQUFTLEtBQUssRUFBQyxTQUFmO01BQUEsdUJBQ0E7UUFBSyxTQUFTLEVBQUMsV0FBZjtRQUFBLHdCQUNJO1VBQUssS0FBSyxFQUFDLGNBQVg7VUFBQSx1QkFDSTtZQUFRLEtBQUssRUFBQyxtQkFBZDtZQUFrQyxPQUFPLEVBQUU3RCxTQUEzQztZQUFBO1VBQUE7WUFBQTtZQUFBO1lBQUE7VUFBQTtRQURKO1VBQUE7VUFBQTtVQUFBO1FBQUEsUUFESixlQUlJO1VBQUssS0FBSyxFQUFDLGNBQVg7VUFBQSx1QkFDSTtZQUFRLEtBQUssRUFBQyxtQkFBZDtZQUFrQyxPQUFPLEVBQUVFLGtCQUEzQztZQUFBO1VBQUE7WUFBQTtZQUFBO1lBQUE7VUFBQTtRQURKO1VBQUE7VUFBQTtVQUFBO1FBQUEsUUFKSixlQU9JO1VBQUssS0FBSyxFQUFDLGNBQVg7VUFBQSx1QkFDSTtZQUFRLEtBQUssRUFBQyxtQkFBZDtZQUFrQyxPQUFPLEVBQUVFLGFBQTNDO1lBQUE7VUFBQTtZQUFBO1lBQUE7WUFBQTtVQUFBO1FBREo7VUFBQTtVQUFBO1VBQUE7UUFBQSxRQVBKO01BQUE7UUFBQTtRQUFBO1FBQUE7TUFBQTtJQURBO01BQUE7TUFBQTtNQUFBO0lBQUE7RUFEQTtJQUFBO0lBQUE7SUFBQTtFQUFBLFFBREY7QUFpQkgsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2N5Y2xvbmUvLi9wYWdlcy9pbmRleC5qcz9iZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBHTE9CRSBmcm9tICd2YW50YS9kaXN0L3ZhbnRhLndhdmVzLm1pbi5qcyc7XG5pbXBvcnQgTkVUIGZyb20gXCJ2YW50YS9kaXN0L3ZhbnRhLm5ldC5taW5cIjtcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSBcImV0aGVyc1wiO1xuaW1wb3J0IHsgSnNvblJwY1Byb3ZpZGVyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2Fic3RyYWN0LXByb3ZpZGVyXCI7XG5pbXBvcnQge1xuICAgIEF6dGVjU2RrLFxuICAgIGNyZWF0ZUF6dGVjU2RrLFxuICAgIEV0aGVyc0FkYXB0ZXIsXG4gICAgRXRoZXJldW1Qcm92aWRlcixcbiAgICBTZGtGbGF2b3VyLFxuICAgIEF6dGVjU2RrVXNlcixcbiAgICBHcnVtcGtpbkFkZHJlc3MsXG4gICAgU2Nobm9yclNpZ25lcixcbiAgICBFdGhBZGRyZXNzLFxuICAgIFR4U2V0dGxlbWVudFRpbWUsXG4gICAgVHhJZCxcbiAgfSBmcm9tIFwiQGF6dGVjL3Nka1wiO1xuXG4gIGltcG9ydCB7IHJhbmRvbUJ5dGVzIH0gZnJvbSBcImNyeXB0b1wiO1xuXG4gIGltcG9ydCB7XG4gICAgcmVnaXN0ZXJBY2NvdW50XG4gIH0gZnJvbSBcIi4vdXRpbHNcIjtcbiAgXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbW1pdG1lbnQgKCkge1xuICAgIGNvbnN0IFt1c2VyQWNjb3VudCwgc2V0VXNlckFkZHJlc3NdID0gdXNlU3RhdGUoe0F6dGVjU2RrVXNlcn0pO1xuICAgIGNvbnN0IFtwdWJsaWNLZXlOZXcsIHNldFB1YmxpY0tleV0gPSAgdXNlU3RhdGUoe0dydW1wa2luQWRkcmVzc30pO1xuICAgIGNvbnN0IFtwcml2YXRlS2V5TmV3LCBzZXRQcml2YXRlS2V5XSA9IHVzZVN0YXRlKHtCdWZmZXJ9KTtcbiAgICBjb25zdCBbc3BlbmRpbmdTaWduZXIsIHNldFNwZW5kaW5nU2lnbmVyXSA9IHVzZVN0YXRlKHtTY2hub3JyU2lnbmVyfSk7XG4gICAgY29uc3QgW3dhbGxldEFkZHJlc3MsIHNldFdhbGxldEFkZHJlc3NdID0gdXNlU3RhdGUoe0V0aEFkZHJlc3N9KTtcbiAgICBjb25zdCBbc2RrLCBzZXRTREtdID0gdXNlU3RhdGUoe0F6dGVjU2RrfSk7XG4gICAgY29uc3QgW2V0aEFjY291bnQsIHNldEV0aEFjY291bnRdID0gdXNlU3RhdGUoe0V0aEFkZHJlc3N9KTtcblxuICAgIGxldCByZW5kZXJTREsgPSAoKSA9PiB7XG4gICAgICAgIEluaXRpYWxpemVTREsoKTtcbiAgICB9XG5cbiAgICBsZXQgcmVuZGVyUmVnaXN0ZXJVc2VyID0gKCkgPT4ge1xuICAgICAgcmVnaXN0ZXJVc2VyKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVuZGVyRGVwb3NpdCgpIHtcbiAgICAgIGRlcG9zaXQoKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiByZWdpc3RlclVzZXIoKSB7XG4gICAgICBjb25zdCBhbGlhcyA9IFwid29vc3NvXCI7XG4gICAgICBjb25zdCBkZXBvc2l0VG9rZW5RdWFudGl0eSA9IGV0aGVycy51dGlsc1xuICAgICAgLnBhcnNlRXRoZXIoXCIxXCIpXG4gICAgICAudG9CaWdJbnQoKTtcbiAgICBjb25zdCByZWNvdmVyeVNpZ25lciA9IGF3YWl0IHNkay5jcmVhdGVTY2hub3JyU2lnbmVyKHJhbmRvbUJ5dGVzKDMyKSk7XG4gICAgbGV0IHJlY292ZXJQdWJsaWNLZXkgPSByZWNvdmVyeVNpZ25lci5nZXRQdWJsaWNLZXkoKTtcblxuICAgIGNvbnN0IGFzc2V0SWQgPSBzZGsuZ2V0QXNzZXRJZEJ5QWRkcmVzcyhFdGhBZGRyZXNzLlpFUk8pO1xuICAgIGNvbnNvbGUubG9nKGFzc2V0SWQpXG4gICAgY29uc3QgZGVwb3NpdCA9IHsgYXNzZXRJZCwgdmFsdWU6IGRlcG9zaXRUb2tlblF1YW50aXR5IH07XG4gICAgY29uc29sZS5sb2coZGVwb3NpdClcbiAgICBjb25zdCB0eEZlZSA9IChhd2FpdCBzZGsuZ2V0UmVnaXN0ZXJGZWVzKGRlcG9zaXQuYXNzZXRJZCkpW1R4U2V0dGxlbWVudFRpbWVdO1xuICAgIGNvbnNvbGUubG9nKHR4RmVlKVxuXG4gICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBhd2FpdCBzZGsuY3JlYXRlUmVnaXN0ZXJDb250cm9sbGVyKFxuICAgICAgICBwdWJsaWNLZXlOZXcsXG4gICAgICAgIGFsaWFzLCBcbiAgICAgICAgcHJpdmF0ZUtleU5ldyxcbiAgICAgICAgc3BlbmRpbmdTaWduZXIuZ2V0UHVibGljS2V5KCksXG4gICAgICAgIHJlY292ZXJQdWJsaWNLZXksIFxuICAgICAgICAwLFxuICAgICAgICB0eEZlZSxcbiAgICAgICAgd2FsbGV0QWRkcmVzc1xuICAgICAgKTtcblxuICAgIC8vIGNvbnNvbGUubG9nKFwicmVnaXN0cmF0aW9uIHR4SWRcIiwgdHhJZCk7XG4gICAgLy8gY29uc29sZS5sb2coXG4gICAgLy8gICBcImxvb2t1cCB0eCBvbiBleHBsb3JlclwiLFxuICAgIC8vICAgYGh0dHBzOi8vYXp0ZWMtY29ubmVjdC10ZXN0bmV0LWV4cGxvcmVyLmF6dGVjLm5ldHdvcmsvZ29lcmxpL3R4LyR7dHhJZC50b1N0cmluZygpfWBcbiAgICAvLyApO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGRlcG9zaXQoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImRlcHNvc2l0XCIpO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIEluaXRpYWxpemVTREsoKSB7XG4gICAgICAvLyBSZXRyaWV2ZSB1c2VyJ3MgbWV0YW1hc2sgYWRkcmVzc1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIod2luZG93LmV0aGVyZXVtKTtcbiAgICAgIGNvbnN0IGV0aGVyZXVtUHJvdmlkZXIgPSBuZXcgRXRoZXJzQWRhcHRlcihwcm92aWRlcik7XG5cbiAgICAgIGF3YWl0IHByb3ZpZGVyLnNlbmQoXCJldGhfcmVxdWVzdEFjY291bnRzXCIsIFtdKTtcbiAgICAgIGNvbnN0IHVzZXJTaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgIGNvbnN0IHVzZXJBZGRyZXNzID0gRXRoQWRkcmVzcy5mcm9tU3RyaW5nKGF3YWl0IHVzZXJTaWduZXIuZ2V0QWRkcmVzcygpKTtcbiAgICAgIGNvbnNvbGUubG9nKFwidXNlcidzIG1ldGFtYXNrIHdhbGxldCBhZGRyZXNzIGlzOiBcIiArIHVzZXJBZGRyZXNzKTtcbiAgICAgIHNldFdhbGxldEFkZHJlc3ModXNlckFkZHJlc3MpXG4gICAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBTREtcbiAgICAgIGNvbnN0IHNkayA9IGF3YWl0IGNyZWF0ZUF6dGVjU2RrKGV0aGVyZXVtUHJvdmlkZXIsIHsgICAgICAgICAgXG4gICAgICAgIHNlcnZlclVybDogXCJodHRwczovL2FwaS5henRlYy5uZXR3b3JrL2F6dGVjLWNvbm5lY3QtdGVzdG5ldC9mYWxhZmVsXCIsIC8vIHRlc3RuZXRcbiAgICAgICAgcG9sbEludGVydmFsOiAxMDAwLFxuICAgICAgICBtZW1vcnlEYjogdHJ1ZSwgICAgICAgICAgICAvLyBzZXQgdG8gZmFsc2UgdG8gc2F2ZSBjaGFpbiBkYXRhXG4gICAgICAgIGRlYnVnOiBcImJiOipcIiwgICAgICAgICAgICAgLy8gcHJpbnQgZGVidWcgbG9nc1xuICAgICAgICBmbGF2b3VyOiBTZGtGbGF2b3VyLlBMQUlOLCAvLyBVc2UgUExBSU4gd2l0aCBOb2RlanNcbiAgICAgICAgbWluQ29uZmlybWF0aW9uOiAxLCAgICAgICAgLy8gRVRIIGJsb2NrIGNvbmZpcm1hdGlvbnNcbiAgICAgIH0pO1xuICAgICAgc2RrLnJ1bigpO1xuICAgICAgYXdhaXQgc2RrLmF3YWl0U3luY2hyb25pc2VkKCk7XG4gICAgICBzZXRTREsoc2RrKTtcblxuICAgICAgLy8gR2VuZXJhdGUgcHJpdmFjeSBrZXlzIHdoaWNoIGVuYWJsZXMgZGVjcnlwdGluZyB0aGUgbm90ZXMgYW5kIGNhbGN1bGF0aW5nIHRoZSBhY2NvdW50IGJhbGFuY2VcbiAgICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGUgdGhlIHVzZXIncyBwcml2YWN5IGtleXBhaXJcIik7XG4gICAgICBjb25zdCB7IHB1YmxpY0tleSwgcHJpdmF0ZUtleSB9ID0gYXdhaXQgc2RrLmdlbmVyYXRlQWNjb3VudEtleVBhaXIod2FsbGV0QWRkcmVzcyk7XG4gICAgICBsZXQgYWNjb3VudHMgPSBhd2FpdCBldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBcImV0aF9yZXF1ZXN0QWNjb3VudHNcIixcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIlB1YmxpYyBrZXkgaXM6IFwiICsgcHVibGljS2V5KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiUHJpdmF0ZSBrZXkgaXM6IFwiICsgcHJpdmF0ZUtleSk7XG4gICAgICBzZXRQdWJsaWNLZXkocHVibGljS2V5KTtcbiAgICAgIHNldFByaXZhdGVLZXkocHJpdmF0ZUtleSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiQWRkIHVzZXIgdG8gU0RLXCIpXG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IHNkay51c2VyRXhpc3RzKHB1YmxpY0tleSk7XG4gICAgICBpZiAoYWNjb3VudCA9PSB0cnVlKSB7XG4gICAgICAgIGF3YWl0IHNkay5nZXRVc2VyKHB1YmxpY0tleSk7XG4gICAgICAgIGF3YWl0IHNkay5hZGRVc2VyKHByaXZhdGVLZXkpO1xuICAgICAgfSBcbiAgICAgIHNldFVzZXJBZGRyZXNzKGFjY291bnQpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSB1c2VyJ3Mgc3BlbmRpbmcga2V5IGFuZCByZWdpc3RlciBpdFxuICAgICAgY29uc3Qgc3BlbmRpbmdQcml2YXRlS2V5ID0gYXdhaXQgc2RrLmdlbmVyYXRlU3BlbmRpbmdLZXlQYWlyKHdhbGxldEFkZHJlc3MpO1xuICAgICAgY29uc29sZS5sb2coXCJTcGVuZGluZyBrZXkgaXM6XCIgKyBzcGVuZGluZ1ByaXZhdGVLZXkpXG4gICAgICAvLyBDcmVhdGUgQXp0ZWMgc2lnbmVyIHVzaW5nIHNwZW5kaW5nIGtleVxuICAgICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgc2RrLmNyZWF0ZVNjaG5vcnJTaWduZXIoc3BlbmRpbmdQcml2YXRlS2V5KTtcbiAgICAgIHNldFNwZW5kaW5nU2lnbmVyKHNpZ25lcik7XG4gICAgICBjb25zb2xlLmxvZyhcIlNpZ25lcjpcIiwgc2lnbmVyKTtcbiAgICB9XG5cbiAgICAvLyBWYW50YSBVSSBkZXNpZ25cbiAgICBjb25zdCBbdmFudGFFZmZlY3QsIHNldFZhbnRhRWZmZWN0XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IHZhbnRhUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoIXZhbnRhRWZmZWN0KSB7XG4gICAgICAgIHNldFZhbnRhRWZmZWN0KFxuICAgICAgICAgIEdMT0JFKHtcbiAgICAgICAgICAgIGVsOiB2YW50YVJlZi5jdXJyZW50LFxuICAgICAgICAgICAgVEhSRUUsXG4gICAgICAgICAgICBtb3VzZUNvbnRyb2xzOiB0cnVlLFxuICAgICAgICAgICAgdG91Y2hDb250cm9sczogdHJ1ZSxcbiAgICAgICAgICAgIGd5cm9Db250cm9sczogZmFsc2UsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDIwMC4wMCxcbiAgICAgICAgICAgIG1pbldpZHRoOiAyMDAuMDAsXG4gICAgICAgICAgICBzY2FsZTogMS4wMCxcbiAgICAgICAgICAgIHNjYWxlTW9iaWxlOiAxLjAwLFxuICAgICAgICAgICAgY29sb3I6IDB4NzExLFxuICAgICAgICAgICAgc2hpbmluZXNzOiAzNS4wMCxcbiAgICAgICAgICAgIHdhdmVIZWlnaHQ6IDMxLjUwLFxuICAgICAgICAgICAgd2F2ZVNwZWVkOiAwLjI1LFxuICAgICAgICAgICAgem9vbTogMC45NVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9LCBbdmFudGFFZmZlY3RdKVxuICAgICAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPG1haW4gcmVmPXt2YW50YVJlZn0+XG4gICAgICA8c2VjdGlvbiBjbGFzcz1cImdlbmVyYWxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1ncm91cFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbjEgYjFcIiBvbkNsaWNrPXtyZW5kZXJTREt9PkNyZWF0ZSBQcml2YWN5IGFuZCBTcGVuZGluZyBLZXlzPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1ncm91cFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbjEgYjFcIiBvbkNsaWNrPXtyZW5kZXJSZWdpc3RlclVzZXJ9PlJlZ2lzdGVyIGEgVXNlcjwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBidXR0b24xIGIxXCIgb25DbGljaz17cmVuZGVyRGVwb3NpdH0+RGVwb3NpdCBFVEg8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPC9zZWN0aW9uPlxuICAgIDwvbWFpbj5cbiAgICApOyAgICBcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkdMT0JFIiwiTkVUIiwiVEhSRUUiLCJldGhlcnMiLCJKc29uUnBjUHJvdmlkZXIiLCJBenRlY1NkayIsImNyZWF0ZUF6dGVjU2RrIiwiRXRoZXJzQWRhcHRlciIsIkV0aGVyZXVtUHJvdmlkZXIiLCJTZGtGbGF2b3VyIiwiQXp0ZWNTZGtVc2VyIiwiR3J1bXBraW5BZGRyZXNzIiwiU2Nobm9yclNpZ25lciIsIkV0aEFkZHJlc3MiLCJUeFNldHRsZW1lbnRUaW1lIiwiVHhJZCIsInJhbmRvbUJ5dGVzIiwicmVnaXN0ZXJBY2NvdW50IiwiQ29tbWl0bWVudCIsInVzZXJBY2NvdW50Iiwic2V0VXNlckFkZHJlc3MiLCJwdWJsaWNLZXlOZXciLCJzZXRQdWJsaWNLZXkiLCJwcml2YXRlS2V5TmV3Iiwic2V0UHJpdmF0ZUtleSIsIkJ1ZmZlciIsInNwZW5kaW5nU2lnbmVyIiwic2V0U3BlbmRpbmdTaWduZXIiLCJ3YWxsZXRBZGRyZXNzIiwic2V0V2FsbGV0QWRkcmVzcyIsInNkayIsInNldFNESyIsImV0aEFjY291bnQiLCJzZXRFdGhBY2NvdW50IiwicmVuZGVyU0RLIiwiSW5pdGlhbGl6ZVNESyIsInJlbmRlclJlZ2lzdGVyVXNlciIsInJlZ2lzdGVyVXNlciIsInJlbmRlckRlcG9zaXQiLCJkZXBvc2l0IiwiYWxpYXMiLCJkZXBvc2l0VG9rZW5RdWFudGl0eSIsInV0aWxzIiwicGFyc2VFdGhlciIsInRvQmlnSW50IiwicmVjb3ZlcnlTaWduZXIiLCJjcmVhdGVTY2hub3JyU2lnbmVyIiwicmVjb3ZlclB1YmxpY0tleSIsImdldFB1YmxpY0tleSIsImFzc2V0SWQiLCJnZXRBc3NldElkQnlBZGRyZXNzIiwiWkVSTyIsImNvbnNvbGUiLCJsb2ciLCJ2YWx1ZSIsInR4RmVlIiwiZ2V0UmVnaXN0ZXJGZWVzIiwiY29udHJvbGxlciIsImNyZWF0ZVJlZ2lzdGVyQ29udHJvbGxlciIsInByb3ZpZGVyIiwicHJvdmlkZXJzIiwiV2ViM1Byb3ZpZGVyIiwid2luZG93IiwiZXRoZXJldW0iLCJldGhlcmV1bVByb3ZpZGVyIiwic2VuZCIsInVzZXJTaWduZXIiLCJnZXRTaWduZXIiLCJ1c2VyQWRkcmVzcyIsImZyb21TdHJpbmciLCJnZXRBZGRyZXNzIiwic2VydmVyVXJsIiwicG9sbEludGVydmFsIiwibWVtb3J5RGIiLCJkZWJ1ZyIsImZsYXZvdXIiLCJQTEFJTiIsIm1pbkNvbmZpcm1hdGlvbiIsInJ1biIsImF3YWl0U3luY2hyb25pc2VkIiwicHVibGljS2V5IiwicHJpdmF0ZUtleSIsImdlbmVyYXRlQWNjb3VudEtleVBhaXIiLCJhY2NvdW50cyIsInJlcXVlc3QiLCJtZXRob2QiLCJhY2NvdW50IiwidXNlckV4aXN0cyIsImdldFVzZXIiLCJhZGRVc2VyIiwic3BlbmRpbmdQcml2YXRlS2V5IiwiZ2VuZXJhdGVTcGVuZGluZ0tleVBhaXIiLCJzaWduZXIiLCJ2YW50YUVmZmVjdCIsInNldFZhbnRhRWZmZWN0IiwidmFudGFSZWYiLCJlbCIsImN1cnJlbnQiLCJtb3VzZUNvbnRyb2xzIiwidG91Y2hDb250cm9scyIsImd5cm9Db250cm9scyIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwic2NhbGUiLCJzY2FsZU1vYmlsZSIsImNvbG9yIiwic2hpbmluZXNzIiwid2F2ZUhlaWdodCIsIndhdmVTcGVlZCIsInpvb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./pages/utils.ts":
/*!************************!*\
  !*** ./pages/utils.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DAI_ADDRESS\": () => (/* binding */ DAI_ADDRESS),\n/* harmony export */   \"createArbitraryDeterministicKey\": () => (/* binding */ createArbitraryDeterministicKey),\n/* harmony export */   \"createPrivacyKey\": () => (/* binding */ createPrivacyKey),\n/* harmony export */   \"createSpendingKey\": () => (/* binding */ createSpendingKey),\n/* harmony export */   \"depositEthToAztec\": () => (/* binding */ depositEthToAztec),\n/* harmony export */   \"registerAccount\": () => (/* binding */ registerAccount)\n/* harmony export */ });\n/* harmony import */ var _aztec_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aztec/sdk */ \"@aztec/sdk\");\n/* harmony import */ var _aztec_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aztec_sdk__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DAI_ADDRESS = _aztec_sdk__WEBPACK_IMPORTED_MODULE_0__.EthAddress.fromString(\"0x86166410B7A1a6D8B9DF3660a978eA79Aa1F30FD\"); // goerli\n\nconst privateKeyMessage = Buffer.from(`Sign this message to generate your Aztec Privacy Key. This key lets the application decrypt your balance on Aztec.\\n\\nIMPORTANT: Only sign this message if you trust the application.`);\nconst spendingKeyMessage = Buffer.from(`Sign this message to generate your Aztec Spending Key. This key lets the application spend your funds on Aztec.\\n\\nIMPORTANT: Only sign this message if you trust the application.`);\nasync function createSpendingKey(provider, sdk) {\n  const privateKey = await createSigningKey(provider, spendingKeyMessage);\n  const publicKey = await sdk.derivePublicKey(privateKey);\n  return {\n    privateKey,\n    publicKey\n  };\n}\nasync function createPrivacyKey(provider, sdk) {\n  const privateKey = await createSigningKey(provider, privateKeyMessage);\n  const publicKey = await sdk.derivePublicKey(privateKey);\n  return {\n    privateKey,\n    publicKey\n  };\n}\nasync function createArbitraryDeterministicKey(provider, sdk, message) {\n  const messageToSign = Buffer.from(message);\n  const privateKey = await createSigningKey(provider, messageToSign);\n  const publicKey = await sdk.derivePublicKey(privateKey);\n  return {\n    privateKey,\n    publicKey\n  };\n}\n\nconst createSigningKey = async (provider, message) => {\n  const signer = new _aztec_sdk__WEBPACK_IMPORTED_MODULE_0__.Web3Signer(provider);\n  const ethAddress = (await provider.request({\n    method: \"eth_accounts\"\n  }))[0];\n  const signedMessage = await signer.signMessage(message, ethAddress);\n  return signedMessage.slice(0, 32);\n};\n\nasync function depositEthToAztec(depositor, recipient, tokenQuantity, settlementTime, sdk) {\n  const tokenAssetId = sdk.getAssetIdBySymbol(\"ETH\");\n  const tokenDepositFee = (await sdk.getDepositFees(tokenAssetId))[settlementTime];\n  const tokenAssetValue = {\n    assetId: tokenAssetId,\n    value: tokenQuantity\n  };\n  const tokenDepositController = sdk.createDepositController(depositor, tokenAssetValue, tokenDepositFee, recipient, true);\n  await tokenDepositController.createProof();\n  await tokenDepositController.sign();\n  console.log(await tokenDepositController.getPendingFunds());\n\n  if ((await tokenDepositController.getPendingFunds()) < tokenQuantity) {\n    await tokenDepositController.depositFundsToContract();\n    await tokenDepositController.awaitDepositFundsToContract();\n  }\n\n  let txId = await tokenDepositController.send();\n  return txId;\n}\nasync function registerAccount(userId, alias, accountPrivateKey, newSigner, recoveryPublicKey, tokenAddress, tokenQuantity, settlementTime, depositor, sdk) {\n  const assetId = sdk.getAssetIdByAddress(tokenAddress);\n  const deposit = {\n    assetId,\n    value: tokenQuantity\n  };\n  const txFee = (await sdk.getRegisterFees(deposit.assetId))[settlementTime];\n  console.log(\"userId is: \" + userId);\n  console.log(\"alias is: \" + alias);\n  console.log(\"accountPrivateKey is: \" + accountPrivateKey);\n  console.log(\"newSigner is: \" + newSigner);\n  console.log(\"recoveryPublicKey is: \" + recoveryPublicKey);\n  console.log(\"deposit is: \" + deposit);\n  console.log(\"txFee is: \" + txFee);\n  console.log(\"depositor is: \" + depositor);\n  const controller = await sdk.createRegisterController(userId, alias, accountPrivateKey, newSigner, recoveryPublicKey, deposit, txFee, depositor // optional feePayer requires an Aztec Signer to pay the fee\n  );\n  await controller.depositFundsToContract();\n  await controller.awaitDepositFundsToContract();\n  await controller.createProof();\n  await controller.sign();\n  let txId = await controller.send();\n  return txId;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxDQUFDQyxHQUFSLENBQVksbUJBQW1CaEIsU0FBL0I7RUFFQSxNQUFNaUMsVUFBVSxHQUFHLE1BQU1sRCxHQUFHLENBQUNtRCx3QkFBSixDQUN2QlgsTUFEdUIsRUFFdkJDLEtBRnVCLEVBR3ZCQyxpQkFIdUIsRUFJdkJDLFNBSnVCLEVBS3ZCQyxpQkFMdUIsRUFNdkJHLE9BTnVCLEVBT3ZCQyxLQVB1QixFQVF2Qi9CLFNBUnVCLENBU3ZCO0VBVHVCLENBQXpCO0VBWUEsTUFBTWlDLFVBQVUsQ0FBQ2Ysc0JBQVgsRUFBTjtFQUNBLE1BQU1lLFVBQVUsQ0FBQ2QsMkJBQVgsRUFBTjtFQUVBLE1BQU1jLFVBQVUsQ0FBQ3BCLFdBQVgsRUFBTjtFQUNBLE1BQU1vQixVQUFVLENBQUNuQixJQUFYLEVBQU47RUFDQSxJQUFJTSxJQUFJLEdBQUcsTUFBTWEsVUFBVSxDQUFDWixJQUFYLEVBQWpCO0VBQ0EsT0FBT0QsSUFBUDtBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3ljbG9uZS8uL3BhZ2VzL3V0aWxzLnRzP2I4MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWNjb3VudElkLFxuICBBc3NldFZhbHVlLFxuICBBenRlY1NkayxcbiAgRXRoQWRkcmVzcyxcbiAgRXRoZXJldW1Qcm92aWRlcixcbiAgR3J1bXBraW5BZGRyZXNzLFxuICBTY2hub3JyU2lnbmVyLFxuICBUeFNldHRsZW1lbnRUaW1lLFxuICBUeElkLFxuICBXYWxsZXRQcm92aWRlcixcbiAgV2ViM1NpZ25lcixcbiAgUmVnaXN0ZXJDb250cm9sbGVyLFxuICBEZXBvc2l0Q29udHJvbGxlcixcbiAgRGVmaUNvbnRyb2xsZXIsXG59IGZyb20gXCJAYXp0ZWMvc2RrXCI7XG5pbXBvcnQgeyBXZWIzUHJvdmlkZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvcHJvdmlkZXJzXCI7XG5cbmV4cG9ydCBjb25zdCBEQUlfQUREUkVTUyA9IEV0aEFkZHJlc3MuZnJvbVN0cmluZyhcbiAgXCIweDg2MTY2NDEwQjdBMWE2RDhCOURGMzY2MGE5NzhlQTc5QWExRjMwRkRcIlxuKTsgLy8gZ29lcmxpXG5cbmNvbnN0IHByaXZhdGVLZXlNZXNzYWdlID0gQnVmZmVyLmZyb20oXG4gIGBTaWduIHRoaXMgbWVzc2FnZSB0byBnZW5lcmF0ZSB5b3VyIEF6dGVjIFByaXZhY3kgS2V5LiBUaGlzIGtleSBsZXRzIHRoZSBhcHBsaWNhdGlvbiBkZWNyeXB0IHlvdXIgYmFsYW5jZSBvbiBBenRlYy5cXG5cXG5JTVBPUlRBTlQ6IE9ubHkgc2lnbiB0aGlzIG1lc3NhZ2UgaWYgeW91IHRydXN0IHRoZSBhcHBsaWNhdGlvbi5gXG4pO1xuXG5jb25zdCBzcGVuZGluZ0tleU1lc3NhZ2UgPSBCdWZmZXIuZnJvbShcbiAgYFNpZ24gdGhpcyBtZXNzYWdlIHRvIGdlbmVyYXRlIHlvdXIgQXp0ZWMgU3BlbmRpbmcgS2V5LiBUaGlzIGtleSBsZXRzIHRoZSBhcHBsaWNhdGlvbiBzcGVuZCB5b3VyIGZ1bmRzIG9uIEF6dGVjLlxcblxcbklNUE9SVEFOVDogT25seSBzaWduIHRoaXMgbWVzc2FnZSBpZiB5b3UgdHJ1c3QgdGhlIGFwcGxpY2F0aW9uLmBcbik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTcGVuZGluZ0tleShcbiAgcHJvdmlkZXI6IEV0aGVyZXVtUHJvdmlkZXIsXG4gIHNkazogQXp0ZWNTZGtcbikge1xuICBjb25zdCBwcml2YXRlS2V5ID0gYXdhaXQgY3JlYXRlU2lnbmluZ0tleShwcm92aWRlciwgc3BlbmRpbmdLZXlNZXNzYWdlKTtcbiAgY29uc3QgcHVibGljS2V5ID0gYXdhaXQgc2RrLmRlcml2ZVB1YmxpY0tleShwcml2YXRlS2V5KTtcbiAgcmV0dXJuIHsgcHJpdmF0ZUtleSwgcHVibGljS2V5IH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQcml2YWN5S2V5KFxuICBwcm92aWRlcjogRXRoZXJldW1Qcm92aWRlcixcbiAgc2RrOiBBenRlY1Nka1xuKSB7XG4gIGNvbnN0IHByaXZhdGVLZXkgPSBhd2FpdCBjcmVhdGVTaWduaW5nS2V5KHByb3ZpZGVyLCBwcml2YXRlS2V5TWVzc2FnZSk7XG4gIGNvbnN0IHB1YmxpY0tleSA9IGF3YWl0IHNkay5kZXJpdmVQdWJsaWNLZXkocHJpdmF0ZUtleSk7XG4gIHJldHVybiB7IHByaXZhdGVLZXksIHB1YmxpY0tleSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXJiaXRyYXJ5RGV0ZXJtaW5pc3RpY0tleShcbiAgcHJvdmlkZXI6IEV0aGVyZXVtUHJvdmlkZXIsXG4gIHNkazogQXp0ZWNTZGssXG4gIG1lc3NhZ2U6IHN0cmluZ1xuKSB7XG4gIGNvbnN0IG1lc3NhZ2VUb1NpZ24gPSBCdWZmZXIuZnJvbShtZXNzYWdlKTtcbiAgY29uc3QgcHJpdmF0ZUtleSA9IGF3YWl0IGNyZWF0ZVNpZ25pbmdLZXkocHJvdmlkZXIsIG1lc3NhZ2VUb1NpZ24pO1xuICBjb25zdCBwdWJsaWNLZXkgPSBhd2FpdCBzZGsuZGVyaXZlUHVibGljS2V5KHByaXZhdGVLZXkpO1xuICByZXR1cm4geyBwcml2YXRlS2V5LCBwdWJsaWNLZXkgfTtcbn1cblxuY29uc3QgY3JlYXRlU2lnbmluZ0tleSA9IGFzeW5jIChcbiAgcHJvdmlkZXI6IEV0aGVyZXVtUHJvdmlkZXIsXG4gIG1lc3NhZ2U6IEJ1ZmZlclxuKSA9PiB7XG4gIGNvbnN0IHNpZ25lciA9IG5ldyBXZWIzU2lnbmVyKHByb3ZpZGVyKTtcbiAgY29uc3QgZXRoQWRkcmVzcyA9IChhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHsgbWV0aG9kOiBcImV0aF9hY2NvdW50c1wiIH0pKVswXTtcbiAgY29uc3Qgc2lnbmVkTWVzc2FnZSA9IGF3YWl0IHNpZ25lci5zaWduTWVzc2FnZShtZXNzYWdlLCBldGhBZGRyZXNzKTtcbiAgcmV0dXJuIHNpZ25lZE1lc3NhZ2Uuc2xpY2UoMCwgMzIpO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcG9zaXRFdGhUb0F6dGVjKFxuICBkZXBvc2l0b3I6IEV0aEFkZHJlc3MsXG4gIHJlY2lwaWVudDogR3J1bXBraW5BZGRyZXNzLFxuICB0b2tlblF1YW50aXR5OiBiaWdpbnQsXG4gIHNldHRsZW1lbnRUaW1lOiBUeFNldHRsZW1lbnRUaW1lLFxuICBzZGs6IEF6dGVjU2RrXG4pOiBQcm9taXNlPFR4SWQ+IHtcbiAgY29uc3QgdG9rZW5Bc3NldElkID0gc2RrLmdldEFzc2V0SWRCeVN5bWJvbChcIkVUSFwiKTtcbiAgY29uc3QgdG9rZW5EZXBvc2l0RmVlID0gKGF3YWl0IHNkay5nZXREZXBvc2l0RmVlcyh0b2tlbkFzc2V0SWQpKVtcbiAgICBzZXR0bGVtZW50VGltZVxuICBdO1xuICBjb25zdCB0b2tlbkFzc2V0VmFsdWU6IEFzc2V0VmFsdWUgPSB7XG4gICAgYXNzZXRJZDogdG9rZW5Bc3NldElkLFxuICAgIHZhbHVlOiB0b2tlblF1YW50aXR5LFxuICB9O1xuICBjb25zdCB0b2tlbkRlcG9zaXRDb250cm9sbGVyID0gc2RrLmNyZWF0ZURlcG9zaXRDb250cm9sbGVyKFxuICAgIGRlcG9zaXRvcixcbiAgICB0b2tlbkFzc2V0VmFsdWUsXG4gICAgdG9rZW5EZXBvc2l0RmVlLFxuICAgIHJlY2lwaWVudCxcbiAgICB0cnVlXG4gICk7XG4gIGF3YWl0IHRva2VuRGVwb3NpdENvbnRyb2xsZXIuY3JlYXRlUHJvb2YoKTtcbiAgYXdhaXQgdG9rZW5EZXBvc2l0Q29udHJvbGxlci5zaWduKCk7XG4gIGNvbnNvbGUubG9nKChhd2FpdCB0b2tlbkRlcG9zaXRDb250cm9sbGVyLmdldFBlbmRpbmdGdW5kcygpKSlcbiAgaWYgKChhd2FpdCB0b2tlbkRlcG9zaXRDb250cm9sbGVyLmdldFBlbmRpbmdGdW5kcygpKSA8IHRva2VuUXVhbnRpdHkpIHtcbiAgICBhd2FpdCB0b2tlbkRlcG9zaXRDb250cm9sbGVyLmRlcG9zaXRGdW5kc1RvQ29udHJhY3QoKTtcbiAgICBhd2FpdCB0b2tlbkRlcG9zaXRDb250cm9sbGVyLmF3YWl0RGVwb3NpdEZ1bmRzVG9Db250cmFjdCgpO1xuICB9XG4gIGxldCB0eElkID0gYXdhaXQgdG9rZW5EZXBvc2l0Q29udHJvbGxlci5zZW5kKCk7XG4gIHJldHVybiB0eElkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJBY2NvdW50KFxuICB1c2VySWQ6IEdydW1wa2luQWRkcmVzcyxcbiAgYWxpYXM6IHN0cmluZyxcbiAgYWNjb3VudFByaXZhdGVLZXk6IEJ1ZmZlcixcbiAgbmV3U2lnbmVyOiBHcnVtcGtpbkFkZHJlc3MsXG4gIHJlY292ZXJ5UHVibGljS2V5OiBHcnVtcGtpbkFkZHJlc3MsXG4gIHRva2VuQWRkcmVzczogRXRoQWRkcmVzcyxcbiAgdG9rZW5RdWFudGl0eTogYmlnaW50LFxuICBzZXR0bGVtZW50VGltZTogVHhTZXR0bGVtZW50VGltZSxcbiAgZGVwb3NpdG9yOiBFdGhBZGRyZXNzLFxuICBzZGs6IEF6dGVjU2RrXG4pOiBQcm9taXNlPFR4SWQ+IHtcbiAgY29uc3QgYXNzZXRJZCA9IHNkay5nZXRBc3NldElkQnlBZGRyZXNzKHRva2VuQWRkcmVzcyk7XG4gIGNvbnN0IGRlcG9zaXQgPSB7IGFzc2V0SWQsIHZhbHVlOiB0b2tlblF1YW50aXR5IH07XG4gIGNvbnN0IHR4RmVlID0gKGF3YWl0IHNkay5nZXRSZWdpc3RlckZlZXMoZGVwb3NpdC5hc3NldElkKSlbc2V0dGxlbWVudFRpbWVdO1xuXG4gIGNvbnNvbGUubG9nKFwidXNlcklkIGlzOiBcIiArIHVzZXJJZCk7XG4gIGNvbnNvbGUubG9nKFwiYWxpYXMgaXM6IFwiICsgYWxpYXMpO1xuICBjb25zb2xlLmxvZyhcImFjY291bnRQcml2YXRlS2V5IGlzOiBcIiArIGFjY291bnRQcml2YXRlS2V5KTtcbiAgY29uc29sZS5sb2coXCJuZXdTaWduZXIgaXM6IFwiICsgbmV3U2lnbmVyKTtcbiAgY29uc29sZS5sb2coXCJyZWNvdmVyeVB1YmxpY0tleSBpczogXCIgKyByZWNvdmVyeVB1YmxpY0tleSk7XG4gIGNvbnNvbGUubG9nKFwiZGVwb3NpdCBpczogXCIgKyBkZXBvc2l0KTtcbiAgY29uc29sZS5sb2coXCJ0eEZlZSBpczogXCIgKyB0eEZlZSk7XG4gIGNvbnNvbGUubG9nKFwiZGVwb3NpdG9yIGlzOiBcIiArIGRlcG9zaXRvcik7XG5cbiAgY29uc3QgY29udHJvbGxlciA9IGF3YWl0IHNkay5jcmVhdGVSZWdpc3RlckNvbnRyb2xsZXIoXG4gICAgdXNlcklkLFxuICAgIGFsaWFzLFxuICAgIGFjY291bnRQcml2YXRlS2V5LFxuICAgIG5ld1NpZ25lcixcbiAgICByZWNvdmVyeVB1YmxpY0tleSxcbiAgICBkZXBvc2l0LFxuICAgIHR4RmVlLFxuICAgIGRlcG9zaXRvclxuICAgIC8vIG9wdGlvbmFsIGZlZVBheWVyIHJlcXVpcmVzIGFuIEF6dGVjIFNpZ25lciB0byBwYXkgdGhlIGZlZVxuICApO1xuXG4gIGF3YWl0IGNvbnRyb2xsZXIuZGVwb3NpdEZ1bmRzVG9Db250cmFjdCgpO1xuICBhd2FpdCBjb250cm9sbGVyLmF3YWl0RGVwb3NpdEZ1bmRzVG9Db250cmFjdCgpO1xuXG4gIGF3YWl0IGNvbnRyb2xsZXIuY3JlYXRlUHJvb2YoKTtcbiAgYXdhaXQgY29udHJvbGxlci5zaWduKCk7XG4gIGxldCB0eElkID0gYXdhaXQgY29udHJvbGxlci5zZW5kKCk7XG4gIHJldHVybiB0eElkO1xufVxuIl0sIm5hbWVzIjpbIkV0aEFkZHJlc3MiLCJXZWIzU2lnbmVyIiwiREFJX0FERFJFU1MiLCJmcm9tU3RyaW5nIiwicHJpdmF0ZUtleU1lc3NhZ2UiLCJCdWZmZXIiLCJmcm9tIiwic3BlbmRpbmdLZXlNZXNzYWdlIiwiY3JlYXRlU3BlbmRpbmdLZXkiLCJwcm92aWRlciIsInNkayIsInByaXZhdGVLZXkiLCJjcmVhdGVTaWduaW5nS2V5IiwicHVibGljS2V5IiwiZGVyaXZlUHVibGljS2V5IiwiY3JlYXRlUHJpdmFjeUtleSIsImNyZWF0ZUFyYml0cmFyeURldGVybWluaXN0aWNLZXkiLCJtZXNzYWdlIiwibWVzc2FnZVRvU2lnbiIsInNpZ25lciIsImV0aEFkZHJlc3MiLCJyZXF1ZXN0IiwibWV0aG9kIiwic2lnbmVkTWVzc2FnZSIsInNpZ25NZXNzYWdlIiwic2xpY2UiLCJkZXBvc2l0RXRoVG9BenRlYyIsImRlcG9zaXRvciIsInJlY2lwaWVudCIsInRva2VuUXVhbnRpdHkiLCJzZXR0bGVtZW50VGltZSIsInRva2VuQXNzZXRJZCIsImdldEFzc2V0SWRCeVN5bWJvbCIsInRva2VuRGVwb3NpdEZlZSIsImdldERlcG9zaXRGZWVzIiwidG9rZW5Bc3NldFZhbHVlIiwiYXNzZXRJZCIsInZhbHVlIiwidG9rZW5EZXBvc2l0Q29udHJvbGxlciIsImNyZWF0ZURlcG9zaXRDb250cm9sbGVyIiwiY3JlYXRlUHJvb2YiLCJzaWduIiwiY29uc29sZSIsImxvZyIsImdldFBlbmRpbmdGdW5kcyIsImRlcG9zaXRGdW5kc1RvQ29udHJhY3QiLCJhd2FpdERlcG9zaXRGdW5kc1RvQ29udHJhY3QiLCJ0eElkIiwic2VuZCIsInJlZ2lzdGVyQWNjb3VudCIsInVzZXJJZCIsImFsaWFzIiwiYWNjb3VudFByaXZhdGVLZXkiLCJuZXdTaWduZXIiLCJyZWNvdmVyeVB1YmxpY0tleSIsInRva2VuQWRkcmVzcyIsImdldEFzc2V0SWRCeUFkZHJlc3MiLCJkZXBvc2l0IiwidHhGZWUiLCJnZXRSZWdpc3RlckZlZXMiLCJjb250cm9sbGVyIiwiY3JlYXRlUmVnaXN0ZXJDb250cm9sbGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/utils.ts\n");

/***/ }),

/***/ "@aztec/sdk":
/*!*****************************!*\
  !*** external "@aztec/sdk" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("@aztec/sdk");

/***/ }),

/***/ "@ethersproject/abstract-provider":
/*!***************************************************!*\
  !*** external "@ethersproject/abstract-provider" ***!
  \***************************************************/
/***/ ((module) => {

module.exports = require("@ethersproject/abstract-provider");

/***/ }),

/***/ "ethers":
/*!*************************!*\
  !*** external "ethers" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("ethers");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "vanta/dist/vanta.net.min":
/*!*******************************************!*\
  !*** external "vanta/dist/vanta.net.min" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("vanta/dist/vanta.net.min");

/***/ }),

/***/ "vanta/dist/vanta.waves.min.js":
/*!************************************************!*\
  !*** external "vanta/dist/vanta.waves.min.js" ***!
  \************************************************/
/***/ ((module) => {

module.exports = require("vanta/dist/vanta.waves.min.js");

/***/ }),

/***/ "three":
/*!************************!*\
  !*** external "three" ***!
  \************************/
/***/ ((module) => {

module.exports = import("three");;

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/index.js"));
module.exports = __webpack_exports__;

})();